@media (max-aspect-ratio: 0.85/1), (max-width: 700px) {
    #left-panel #start-char {
        font-size: min(6vw, 2.2em) !important;
        color: #007bff !important;
        font-weight: bold !important;
        display: inline-block;
        margin: 0 0.2em;
    }
}
@media (max-aspect-ratio: 0.85/1), (max-width: 700px) {
    #left-panel h3, #left-panel h4 {
        font-size: min(2.2vw, 1em) !important;
        font-weight: 600 !important;
        margin: 0.2em 0 0.1em 0 !important;
        padding: 0 !important;
        text-align: center !important;
    }
    #left-panel h4 {
        font-size: min(1.7vw, 0.95em) !important;
        font-weight: 500 !important;
    }
}
/* 移动端顶部面板高度与字体自适应优化 */
@media (max-aspect-ratio: 0.85/1), (max-width: 700px) {
                    #left-panel {
                        height: 25vh !important;
                        max-height: 25vh !important;
    #right-panel #messages li {
        font-size: 80% !important;
    }
                min-height: unset !important;
                overflow: hidden !important;
                display: flex !important;
                flex-direction: row !important;
                align-items: flex-start !important;
                justify-content: center !important;
                gap: 6px !important;
                padding-top: 4px !important;
            }
            #game-info, #score-container, #queue-container {
                flex: 1 1 0;
                display: flex !important;
                flex-direction: column !important;
                align-items: center !important;
                justify-content: flex-start !important;
                padding: 0 !important;
                margin: 0 !important;
            }
                #game-info *,
                #score-container *,
                #queue-container * {
                    font-size: min(2vw, 0.92em) !important;
                    line-height: 1.15 !important;
                }
                #game-info h3, #game-info h2, #game-info p,
                #score-container h3, #queue-container h3 {
                    font-size: min(2.5vw, 1em) !important;
                    margin: 0.1em 0 0.1em 0 !important;
                    padding: 0 !important;
                    font-weight: 600 !important;
                }
    #right-panel #messages li {
        font-size: 80% !important;
    }
            .leave-btn {
                margin-top: 0.1em !important;
                margin-bottom: 0.1em !important;
                padding: 7px 0 !important;
                font-size: min(2.7vw, 1em) !important;
                max-width: 90% !important;
            }
}
/* 移动端：让左侧面板主要内容居中，字体自适应 */
@media (max-aspect-ratio: 0.85/1), (max-width: 700px) {
    html {
        font-size: clamp(16px, 4vw, 22px) !important;
    }
    #left-panel {
        align-items: center !important;
        text-align: center !important;
    }
    #game-info, #score-container, #queue-container {
        width: 100% !important;
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        justify-content: center !important;
        text-align: center !important;
    }
    #score-container h3, #queue-container h3 {
        width: 100% !important;
        text-align: center !important;
    }
    #score-board, #queue-list {
        width: 100% !important;
        text-align: center !important;
        padding-left: 0 !important;
    }
    .leave-btn {
        margin-left: auto !important;
        margin-right: auto !important;
        display: block !important;
        width: 90% !important;
        max-width: 320px !important;
    }
}
/* 移动端字体和触控优化 */
@media (max-aspect-ratio: 0.85/1), (max-width: 700px) {
    html, body {
        font-size: 18px !important;
        line-height: 1.6 !important;
    }
    h1, h2, h3, h4 {
        font-size: 1.3em !important;
        line-height: 1.3 !important;
    }
    #left-panel, #right-panel, #lobby-container, #room-not-found-container .panel, #modal-content {
        padding: 10px 6px !important;
    }
    #left-panel {
        gap: 10px !important;
    }
    #score-container h3, #queue-container h3 {
        font-size: 1.1em !important;
    }
    #score-board li, #queue-list li, #game-info p {
        font-size: 1em !important;
    }
    #form {
        padding: 10px 4px !important;
    }
    #input {
        font-size: 1em !important;
        padding: 12px 10px !important;
    }
    #form button, .button-group button, .join-room-btn, .create-btn, .leave-btn, .withdraw-form-btn, #vote-panel button, .char-choice-btn {
        font-size: 1em !important;
        padding: 14px 0 !important;
        min-width: 44px !important;
        min-height: 44px !important;
        border-radius: 8px !important;
    }
    .char-choice-btn {
        width: 48px !important;
        height: 48px !important;
        font-size: 1.3em !important;
    }
    #messages li {
        font-size: 1em !important;
        padding: 12px 10px !important;
        border-radius: 10px !important;
    }
    .panel-header, #char-buttons {
        gap: 10px !important;
    }
    #nickname-input, #room-name-input {
        font-size: 1em !important;
        padding: 12px 10px !important;
    }
}
/* (文件顶部和中间的样式保持不变) */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    background-color: #f0f2f5;
    color: #333;
}
#lobby-container { max-width: 800px; margin: 40px auto; padding: 20px; background-color: #fff; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
#lobby-container h1 { text-align: center; color: #007bff; }
.lobby-main { display: flex; gap: 40px; margin-top: 20px; }
.room-list-panel, .create-room-panel { flex: 1; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
.create-room-panel { text-align: center; display: flex; flex-direction: column; justify-content: center; }
#room-list { list-style-type: none; padding: 0; margin: 0; max-height: 400px; overflow-y: auto; }
#room-list li { display: flex; align-items: center; padding: 15px; border-bottom: 1px solid #eee; }
#room-list li:last-child { border-bottom: none; }
#room-list li.no-rooms { justify-content: center; color: #888; font-style: italic; }
.room-name { font-weight: bold; flex-grow: 1; }
.room-players { color: #666; margin: 0 15px; }
.join-room-btn { background: #28a745; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; }
.create-btn { background-color: #007bff; color: white; border: none; padding: 15px 25px; border-radius: 8px; cursor: pointer; font-size: 1.1em; font-weight: bold; }
#room-name-input, #nickname-input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
#nickname-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; display: flex; align-items: center; justify-content: center; display: none; }
#modal-overlay { position: absolute; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); }
#modal-content { position: relative; background: white; padding: 30px 40px; border-radius: 8px; text-align: center; width: 320px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
#nickname-form .button-group { margin-top: 15px; }
#nickname-form button { flex: 1; padding: 10px; }
.error-message { color: #d93025; min-height: 1.2em; }
#room-not-found-container { display: flex; align-items: center; justify-content: center; height: 100vh; text-align: center; display: none; }
#room-not-found-container .panel { max-width: 500px; padding: 40px; background-color: #fff; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
#room-not-found-container p { font-size: 1.1em; color: #666; margin-top: 0; }
#invalid-room-id { font-family: "Courier New", Courier, monospace; background-color: #eee; padding: 2px 6px; border-radius: 4px; }
.button-group { margin-top: 30px; display: flex; gap: 20px; justify-content: center; }
.button-group button { padding: 12px 25px; font-size: 1em; border-radius: 5px; border: 1px solid #ddd; cursor: pointer; }
#go-to-lobby-btn, .cancel-btn { background-color: #6c757d; color: white; border-color: #6c757d; }
#create-this-room-btn, #nickname-form button[type="submit"] { background-color: #007bff; color: white; border-color: #007bff; }
/* 桌面端默认布局 */
#game-container { display: flex; height: 100vh; display: none; flex-direction: row; }
#left-panel { width: 300px; background-color: #ffffff; padding: 20px; border-right: 1px solid #ddd; box-shadow: 0 0 10px rgba(0,0,0,0.05); display: flex; flex-direction: column; gap: 20px; transition: all 0.3s; }
/* 移动端适配：竖屏时将左侧边栏移到顶部 */
@media (max-aspect-ratio: 0.85/1), (max-width: 700px) {
    #game-container {
        flex-direction: column !important;
        height: 100vh;
    }
    #left-panel {
        width: 100vw !important;
        max-width: 100vw !important;
        min-width: 0 !important;
        border-right: none !important;
        border-bottom: 1px solid #ddd !important;
        box-shadow: 0 2px 8px rgba(0,0,0,0.04) !important;
        flex-direction: row !important;
        gap: 16px !important;
        padding: 10px 8px !important;
    }
    #resizer {
        display: none !important;
    }
    #right-panel {
        flex-grow: 1;
    }
}
.leave-btn { display: block; width: 100%; padding: 10px; margin-bottom: 20px; background-color: #dc3545; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1em; }
.leave-btn:hover { background-color: #c82333; }
#right-panel { flex-grow: 1; display: flex; flex-direction: column; background-color: #f7f7f7; overflow: hidden; }
h1, h3 { color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px; }
#game-info p, #score-container li, #queue-container li { font-size: 16px; color: #555; }
#start-char { font-size: 2em; color: #007bff; }
#score-board, #queue-list { list-style-type: none; padding: 0; }
#messages { list-style-type: none; margin: 0; padding: 20px; overflow-y: auto; flex: 1; }
#messages li { padding: 8px 12px; margin-bottom: 8px; border-radius: 8px; background: #e9e9eb; max-width: 80%; word-wrap: break-word; }
#messages li.game-message { background-color: #d1ecf1; color: #0c5460; text-align: center; max-width: 100%; font-style: italic; }
#form { display: flex; padding: 20px; background-color: #fff; border-top: 1px solid #ddd; }
#messages li.private-message {
    background-color: #e9ecef;
    color: #495057;
    font-style: italic;
}
#input { border: 1px solid #ccc; padding: 10px; width: 100%; margin-right: 10px; border-radius: 5px; }
#form button { border: none; padding: 10px 20px; color: white; border-radius: 5px; cursor: pointer; }
#submit-answer-btn { background: #007bff; }
#submit-answer-btn:hover { background: #0056b3; }
#vote-panel, #char-choice-panel { padding: 15px; margin: 0 20px 20px 20px; border-radius: 8px; text-align: center; }
#vote-panel { background-color: #fff3cd; border: 1px solid #ffeeba; }
.panel-header {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
}
#char-choice-panel { background-color: #d4edda; border: 1px solid #c3e6cb; }
#vote-panel button, .char-choice-btn { padding: 8px 15px; margin: 0 10px; border-radius: 5px; border: 1px solid #ccc; cursor: pointer; }
#vote-valid { background-color: #d4edda; }
#vote-invalid { background-color: #f8d7da; }
#char-buttons { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 10px; }
.char-choice-btn { font-size: 1.2em; width: 40px; height: 40px; background-color: #fff; transition: background-color 0.2s, transform 0.2s; }
.char-choice-btn:hover { background-color: #007bff; color: white; transform: scale(1.1); }
/* 【核心修改】移除队列撤回按钮样式，只保留表单撤回按钮 */
.withdraw-form-btn {
    background-color: #ffc107;
    border-color: #ffc107;
}
.withdraw-form-btn:hover {
    background-color: #e0a800;
}